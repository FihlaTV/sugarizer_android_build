/*! Sugarizer 2017-09-04 */
enyo.kind({name:"Sugar.DialogSettings",kind:"enyo.Popup",classes:"settings-dialog",centered:!1,modal:!0,floating:!0,components:[{name:"toolbar",classes:"toolbar",components:[{name:"settingssearch",kind:"Sugar.SearchField",onTextChanged:"filterSettings",classes:"settings-filter-text"},{name:"donebutton",kind:"Button",classes:"toolbutton settings-close-button",title:"List",ontap:"closeSettings"}]},{name:"scroller",kind:"Scroller",horizontal:"hidden",vertical:"auto",classes:"settings-scroller",components:[{name:"content",components:[{name:"me",kind:"Sugar.DialogSettingsItem",ontap:"meClicked",text:"Me",icon:{directory:"icons",icon:"module-about_me.svg"},colorized:!0},{name:"computer",kind:"Sugar.DialogSettingsItem",ontap:"computerClicked",text:"Computer",icon:{directory:"icons",icon:"module-about_my_computer.svg"}},{name:"aboutserver",kind:"Sugar.DialogSettingsItem",ontap:"serverClicked",text:"Server",icon:{directory:"icons",icon:"cloud-settings.svg"}},{name:"language",kind:"Sugar.DialogSettingsItem",ontap:"languageClicked",text:"Language",icon:{directory:"icons",icon:"module-language.svg"}},{name:"androidSettings",kind:"Sugar.DialogSettingsItem",ontap:"androidSettingsClicked",text:"AndroidSettings",icon:{directory:"icons",icon:"android-preferences.svg"},showing:!1},{name:"resetLauncher",kind:"Sugar.DialogSettingsItem",ontap:"resetLauncherPopup",text:"ResetLauncher",icon:{directory:"icons",icon:"launcher-icon.svg"},showing:!1}]}]},{name:"subdialog"}],create:function(){this.inherited(arguments),this.$.settingssearch.setPlaceholder(l10n.get("SearchSettings")),this.$.me.setText(l10n.get("AboutMe")),this.$.computer.setText(l10n.get("AboutMyComputer")),this.$.language.setText(l10n.get("Language")),this.$.aboutserver.setText(l10n.get("Server")),window.sugarizerOS&&(sugarizerOS.getLauncherPackageName(function(a){sugarizerOS.launcherPackageName=a}),this.$.androidSettings.setText(l10n.get("AndroidSettings")),this.$.androidSettings.show(),this.$.resetLauncher.show(),this.$.resetLauncher.setText(l10n.get("ResetLauncher"))),"rtl"==l10n.language.direction&&(this.$.me.addClass("rtl-10"),this.$.computer.addClass("rtl-10"),this.$.language.addClass("rtl-10"),this.$.aboutserver.addClass("rtl-10")),this.subdialog=null},rendered:function(){app.noresize=!0,this.$.me.render(),this.$.donebutton.setNodeProperty("title",l10n.get("Done"));var a=this.centerDialog(this);this.$.content.applyStyle("height",a.height+"px"),this.$.scroller.render()},centerDialog:function(a){var b=util.computeMargin({width:800,height:500},{width:.95,height:.95});return a.applyStyle("margin-left",b.left+"px"),a.applyStyle("margin-top",b.top-55+"px"),b},filterSettings:function(){var a=this.$.settingssearch.getText().toLowerCase();enyo.forEach(this.$.content.getControls(),function(b){b.setDisabled(b.getText().toLowerCase().indexOf(a)==-1&&0!=a.length)})},closeSettings:function(){this.hide(),app.noresize=!1},meClicked:function(){this.$.me.getDisabled()||(this.hide(),this.subdialog=this.$.subdialog.createComponent({kind:"Sugar.DialogAboutme"},{owner:this}),this.subdialog.show())},computerClicked:function(){this.$.computer.getDisabled()||(this.hide(),this.subdialog=this.$.subdialog.createComponent({kind:"Sugar.DialogComputer"},{owner:this}),this.subdialog.show())},languageClicked:function(){this.$.language.getDisabled()||(this.hide(),this.subdialog=this.$.subdialog.createComponent({kind:"Sugar.DialogLanguage"},{owner:this}),this.subdialog.show())},serverClicked:function(){this.$.aboutserver.getDisabled()||(this.hide(),this.subdialog=this.$.subdialog.createComponent({kind:"Sugar.DialogServer"},{owner:this}),this.subdialog.show())},androidSettingsClicked:function(){window.sugarizerOS&&sugarizerOS.runSettings(),this.hide()},resetLauncherPopup:function(){this.hide(),this.subdialog=this.$.subdialog.createComponent({kind:"Sugar.DialogSetLauncher"},{owner:this}),this.subdialog.show()}}),enyo.kind({name:"Sugar.DialogSetLauncher",kind:"enyo.Popup",classes:"module-dialog",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",colorized:!0,size:constant.sizeToolbar,icon:{directory:"icons",icon:"owner-icon.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"warningbox",kind:"Sugar.DialogSettingsWarningBox",showing:!1,onCancel:"cancel",onRestart:"restart"},{name:"content",components:[{name:"message",content:"xxx",classes:"launcher-message"},{classes:"launcher-icons",components:[{name:"nativeIcon",kind:"Sugar.Icon",classes:"setlauncher-icon native",icon:{directory:"icons",icon:"launcher-icon.svg"},size:100,ontap:"changeLauncher"},{name:"sugarIcon",kind:"Sugar.Icon",classes:"setlauncher-icon sugar",icon:{directory:"icons",icon:"sugarizer.svg"},size:100,ontap:"changeLauncher"}]}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("SetLauncherTitle")),this.$.message.setContent(l10n.get("SetLauncherText",{launcher:sugarizerOS.launcherPackageName})),"rtl"==l10n.language.direction&&this.$.text.addClass("rtl-10"),window.sugarizerOS&&(sugarizerOS.launcherPackageName==sugarizerOS.packageName?this.$.sugarIcon.addClass("selected"):this.$.nativeIcon.addClass("selected"))},rendered:function(){this.$.icon.render(),this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok")),this.owner.centerDialog(this)},cancel:function(){this.hide()},restart:function(){sugarizerOS.chooseLauncher(),this.hide()},changeLauncher:function(){this.$.warningbox.setShowing(!0)}}),enyo.kind({name:"Sugar.DialogNetworkKey",kind:"enyo.Popup",classes:"module-dialog-wifikey",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",colorized:!0,size:constant.sizeToolbar,icon:{directory:"icons",icon:"owner-icon.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"content",components:[{classes:"enterkey",components:[{name:"keyInput",kind:"Input",classes:"enterkey-input",oninput:"keychanged"}]}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("EnterKey")+" ["+sugarizerOS.NetworkBuffer.SSID+"]"),sugarizerOS.sharedKeyBuffer?this.$.keyInput.setValue(sugarizerOS.sharedKeyBuffer):this.$.keyInput.setValue(""),"rtl"==l10n.language.direction&&this.$.text.addClass("rtl-10")},rendered:function(){this.$.icon.render(),this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok")),this.centerDialog(this)},cancel:function(){this.hide()},ok:function(){sugarizerOS.sharedKeyBuffer=this.$.keyInput.getValue(),sugarizerOS.setKey(sugarizerOS.NetworkBuffer.SSID,sugarizerOS.sharedKeyBuffer,!0),this.hide(),this.$.okbutton.setDisabled(!0),this.$.cancelbutton.setDisabled(!0)},keychanged:function(){},connect:function(){},centerDialog:function(a){var b=util.computeMargin({width:500,height:150},{width:.95,height:.25});a.applyStyle("margin-left",b.left+"px"),a.applyStyle("margin-top",b.top-55-40+"px")}}),enyo.kind({name:"Sugar.DialogAboutme",kind:"enyo.Popup",classes:"module-dialog",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",colorized:!0,size:constant.sizeToolbar,icon:{directory:"icons",icon:"owner-icon.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"warningbox",kind:"Sugar.DialogSettingsWarningBox",showing:!1,onCancel:"cancel",onRestart:"restart"},{name:"content",components:[{name:"message",content:"xxx",classes:"aboutme-message"},{classes:"aboutme-icons",components:[{name:"psicon",kind:"Sugar.Icon",x:0,y:6,classes:"aboutme-icon aboutme-psicon",size:constant.sizeOwner,icon:{directory:"icons",icon:"owner-icon.svg"},ontap:"setcolor"},{name:"nsicon",kind:"Sugar.Icon",x:-12,y:6,classes:"aboutme-icon aboutme-nsicon",size:constant.sizeOwner,icon:{directory:"icons",icon:"owner-icon.svg"},ontap:"setcolor"},{name:"cicon",kind:"Sugar.Icon",x:6,y:6,classes:"aboutme-icon aboutme-cicon",size:constant.sizeOwner,icon:{directory:"icons",icon:"owner-icon.svg"},ontap:"setcolor"},{name:"pficon",kind:"Sugar.Icon",x:0,y:6,classes:"aboutme-icon aboutme-pficon",size:constant.sizeOwner,icon:{directory:"icons",icon:"owner-icon.svg"},ontap:"setcolor"},{name:"nficon",kind:"Sugar.Icon",x:-12,y:6,classes:"aboutme-icon aboutme-nficon",size:constant.sizeOwner,icon:{directory:"icons",icon:"owner-icon.svg"},ontap:"setcolor"}]},{classes:"aboutme-input",components:[{name:"name",kind:"Input",classes:"aboutme-name",oninput:"namechanged"}]},{name:"restartmessage",content:"xxx",classes:"aboutme-restart",showing:!1}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("AboutMe")),this.$.message.setContent(l10n.get("ClickToChangeColor")),this.$.restartmessage.setContent(l10n.get("ChangesRequireRestart")),this.initcolor=this.currentcolor=preferences.getColor(),this.initname=this.currentname=preferences.getName(),this.$.name.setValue(this.initname),"rtl"==l10n.language.direction&&(this.$.text.addClass("rtl-10"),this.$.name.addClass("rtl-10"),this.$.message.addClass("rtl-10"),this.$.restartmessage.addClass("rtl-10"))},rendered:function(){this.$.icon.render(),this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok"));var a=util.getCanvasCenter().dx<515?constant.sizeOwner/2:constant.sizeOwner;this.$.pficon.setSize(a),this.$.pficon.setColorizedColor(util.getPreviousFillColor(this.currentcolor)),this.$.pficon.setColorized(!0),this.$.psicon.setSize(a),this.$.psicon.setColorizedColor(util.getPreviousStrokeColor(this.currentcolor)),this.$.psicon.setColorized(!0),this.$.cicon.setSize(a),this.$.cicon.setColorizedColor(this.currentcolor),this.$.cicon.setColorized(!0),this.$.nficon.setSize(a),this.$.nficon.setColorizedColor(util.getNextFillColor(this.currentcolor)),this.$.nficon.setColorized(!0),this.$.nsicon.setSize(a),this.$.nsicon.setColorizedColor(util.getNextStrokeColor(this.currentcolor)),this.$.nsicon.setColorized(!0),this.$.name.setValue(this.currentname),this.owner.centerDialog(this)},cancel:function(){this.hide(),this.owner.show()},ok:function(){return this.currentcolor==this.initcolor&&this.currentname==this.initname?(this.hide(),void this.owner.show()):(this.$.warningbox.setShowing(!0),this.$.okbutton.setDisabled(!0),this.$.cancelbutton.setDisabled(!0),void this.$.name.addRemoveClass("aboutme-name-validate",!0))},setcolor:function(a){var b=a.getColorizedColor();b!=this.currentcolor&&(this.currentcolor=b,this.render(),this.$.restartmessage.setShowing(!0))},namechanged:function(){this.$.restartmessage.setShowing(!0),this.currentname=this.$.name.getValue()},restart:function(){preferences.setName(this.currentname),preferences.setColor(util.getColorIndex(this.currentcolor)),preferences.save(),preferences.saveToServer(myserver,function(){util.restartApp()})}}),enyo.kind({name:"Sugar.DialogLanguage",kind:"enyo.Popup",classes:"module-dialog",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",size:constant.sizeToolbar,icon:{directory:"icons",icon:"module-language.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"warningbox",kind:"Sugar.DialogSettingsWarningBox",showing:!1,onCancel:"cancel",onRestart:"restart"},{name:"content",components:[{name:"message",content:"xxx",classes:"language-message"},{name:"languageselect",kind:"Sugar.SelectBox",classes:"language-select",onIndexChanged:"languageChanged"},{name:"restartmessage",content:"xxx",classes:"language-restart",showing:!1}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("Language")),this.$.message.setContent(l10n.get("ChooseLanguage")),this.initlanguage=this.currentlanguage=preferences.getLanguage(),this.languageset=[{code:"en",icon:null,name:l10n.get("English")},{code:"es",icon:null,name:l10n.get("Spanish")},{code:"fr",icon:null,name:l10n.get("French")},{code:"de",icon:null,name:l10n.get("German")},{code:"pt",icon:null,name:l10n.get("Portuguese")},{code:"ar",icon:null,name:l10n.get("Arabic")},{code:"ja",icon:null,name:l10n.get("Japanese")},{code:"pl",icon:null,name:l10n.get("Polish")},{code:"ibo",icon:null,name:l10n.get("Igbo")},{code:"yor",icon:null,name:l10n.get("Yoruba")}],this.$.languageselect.setItems(this.languageset);for(var a=0;a<this.languageset.length;a++)if(this.languageset[a].code==this.initlanguage){this.$.languageselect.setSelected(a);break}this.$.restartmessage.setContent(l10n.get("ChangesRequireRestart")),"rtl"==l10n.language.direction&&(this.$.text.addClass("rtl-10"),this.$.message.addClass("rtl-10"),this.$.restartmessage.addClass("rtl-10"))},rendered:function(){this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok")),this.$.languageselect.setParentMargin(this),this.owner.centerDialog(this)},cancel:function(){this.hide(),this.owner.show()},ok:function(){return this.currentlanguage==this.initlanguage?(this.hide(),void this.owner.show()):(this.$.warningbox.setShowing(!0),this.$.okbutton.setDisabled(!0),void this.$.cancelbutton.setDisabled(!0))},languageChanged:function(){this.$.restartmessage.setShowing(!0),this.currentlanguage=this.languageset[this.$.languageselect.getSelected()].code},restart:function(){preferences.setLanguage(this.currentlanguage),preferences.save(),preferences.saveToServer(myserver,function(){util.restartApp()})}}),enyo.kind({name:"Sugar.DialogComputer",kind:"enyo.Popup",classes:"module-dialog",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",size:constant.sizeToolbar,icon:{directory:"icons",icon:"module-about_my_computer.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"warningbox",kind:"Sugar.DialogSettingsWarningBox",showing:!1,onCancel:"cancel",onRestart:"reinit"},{name:"content",kind:"Scroller",classes:"computer-content",components:[{name:"software",content:"xxx",classes:"computer-software"},{content:"Sugarizer:",classes:"computer-sugarizer"},{name:"sugarizer_value",classes:"computer-value",ontap:"version"},{classes:"computer-line"},{name:"clienttype",classes:"computer-clienttype"},{name:"clienttype_value",classes:"computer-value"},{classes:"computer-line"},{name:"browser",content:"xxx",classes:"computer-browser"},{name:"browser_value",classes:"computer-value"},{classes:"computer-line"},{name:"browserversion",content:"xxx",classes:"computer-browserversion"},{name:"browserversion_value",classes:"computer-value"},{classes:"computer-line"},{name:"useragent",content:"xxx",classes:"computer-useragent"},{name:"useragent_value",classes:"computer-value"},{name:"reinitcheck",showing:!1,kind:"Input",type:"checkbox",classes:"toggle computer-reinitcheck",onchange:"switchInit"},{name:"reinittext",showing:!1,content:"xxx",classes:"computer-reinit"},{classes:"computer-line"},{name:"copyright",content:"xxx",classes:"computer-copyright"},{content:"© 2013-2017 Lionel Laské, Sugar Labs Inc and Contributors",classes:"computer-contributor"},{name:"license",content:"xxx",classes:"computer-licence"},{name:"warningmessage",showing:!1,content:"xxx",classes:"computer-warningmessage",showing:!1}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("AboutMyComputer")),this.$.software.setContent(l10n.get("Software")),this.$.browser.setContent(l10n.get("Browser")),this.$.clienttype.setContent(l10n.get("ClientType")),this.$.browserversion.setContent(l10n.get("BrowserVersion")),this.$.useragent.setContent(l10n.get("UserAgent")),this.$.copyright.setContent(l10n.get("Copyright")),this.$.license.setContent(l10n.get("LicenseTerms")),this.$.warningmessage.setContent(l10n.get("AllDataWillBeLost")),this.$.reinittext.setContent(l10n.get("ReinitJournalAndSettings")),this.notify=humane.create({timeout:1e3,baseCls:"humane-libnotify"}),this.clickLeft=3,this.$.sugarizer_value.setContent(constant.sugarizerVersion),this.$.clienttype_value.setContent(util.getClientName()),this.$.browser_value.setContent(util.getBrowserName()),this.$.browserversion_value.setContent(util.getBrowserVersion()),this.$.useragent_value.setContent(navigator.userAgent),"rtl"==l10n.language.direction&&(this.$.text.addClass("rtl-10"),this.$.software.addClass("rtl-10"),this.$.browser.addClass("rtl-10"),this.$.clienttype.addClass("rtl-10"),this.$.browserversion.addClass("rtl-10"),this.$.useragent.addClass("rtl-10"),this.$.copyright.addClass("rtl-10"),this.$.license.addClass("rtl-10"))},rendered:function(){this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok")),this.owner.centerDialog(this)},cancel:function(){this.hide(),this.owner.show()},ok:function(){this.$.reinitcheck.getNodeProperty("checked")?(this.$.warningbox.setShowing(!0),this.$.okbutton.setDisabled(!0),this.$.cancelbutton.setDisabled(!0)):(this.hide(),this.owner.show())},reinit:function(){for(var a=datastore.find(),b=0;b<a.length;b++)datastore.remove(a[b].objectId);preferences.reset(),util.restartApp()},switchInit:function(){this.$.warningmessage.setShowing(this.$.reinitcheck.getNodeProperty("checked"))},version:function(){this.clickLeft--,0==this.clickLeft?(this.$.reinittext.setShowing(!0),this.$.reinitcheck.setShowing(!0)):this.clickLeft>0&&this.notify.log(l10n.get("ClickMore"))}}),enyo.kind({name:"Sugar.DialogServer",kind:"enyo.Popup",classes:"module-dialog",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",size:constant.sizeToolbar,icon:{directory:"icons",icon:"cloud-settings.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"warningbox",kind:"Sugar.DialogSettingsWarningBox",showing:!1,onCancel:"cancel",onRestart:"restart"},{name:"content",components:[{name:"connected",kind:"Input",type:"checkbox",classes:"toggle aboutserver-checkbox",onchange:"switchConnection"},{name:"textconnected",content:"xxx",classes:"aboutserver-message"},{components:[{name:"textservername",content:"xxx",classes:"aboutserver-serverlabel"},{content:"http://",classes:"aboutserver-httplabel"},{name:"servername",kind:"Input",classes:"aboutserver-servername",oninput:"changed"},{name:"serverok",kind:"Sugar.Icon",size:20,x:6,y:17,icon:{directory:"icons",icon:"entry-ok.svg"},classes:"aboutserver-iconchecked",showing:!1}]},{components:[{name:"textusername",content:"xxx",classes:"aboutserver-userlabel"},{name:"username",kind:"Input",classes:"aboutserver-username",oninput:"changed"},{name:"userok",kind:"Sugar.Icon",size:20,x:6,y:17,icon:{directory:"icons",icon:"entry-cancel.svg"},classes:"aboutserver-iconchecked",showing:!1},{name:"textusermessage",content:"xxx",classes:"aboutserver-usermessage"}]},{name:"checkbutton",kind:"Sugar.IconButton",icon:{directory:"icons",icon:"dialog-ok.svg"},classes:"aboutserver-checkbutton",ontap:"check"},{name:"warningmessage",content:"xxx",classes:"aboutserver-warningmessage",showing:!1}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("Server")),this.$.textconnected.setContent(l10n.get("ConnectedToServer")),this.$.warningmessage.setContent(l10n.get("ChangesRequireRestart")),this.$.textservername.setContent(l10n.get("ServerName")),this.$.textusername.setContent(l10n.get("UserId")),this.$.textusermessage.setContent(l10n.get("LeaveUserBlank")),this.$.checkbutton.setText(l10n.get("CheckInfo")),this.initconnected=preferences.isConnected(),util.getClientType()==constant.webAppType?(this.initservername=util.getCurrentServerUrl(),this.$.servername.setDisabled(!0)):this.initservername=preferences.getServer(),this.$.servername.setValue(this.initservername),this.initusername=preferences.getNetworkId(),this.$.username.setValue(this.initusername),"rtl"==l10n.language.direction&&(this.$.text.addClass("rtl-10"),this.$.textconnected.addClass("rtl-10"),this.$.warningmessage.addClass("rtl-10"),this.$.textservername.addClass("rtl-10"),this.$.textusername.addClass("rtl-10"),this.$.textusermessage.addClass("rtl-10"),this.$.checkbutton.addClass("rtl-10"))},rendered:function(){this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok")),this.$.connected.setNodeProperty("checked",this.initconnected);var a=!this.$.connected.getNodeProperty("checked");util.getClientType()!=constant.webAppType&&this.$.servername.setDisabled(a),this.$.username.setDisabled(a),this.owner.centerDialog(this)},cancel:function(){this.hide(),this.owner.show()},ok:function(){return this.hasChanged()?(this.$.warningbox.setShowing(!0),this.$.okbutton.setDisabled(!0),void this.$.cancelbutton.setDisabled(!0)):(this.hide(),void this.owner.show())},switchConnection:function(){util.getClientType()==constant.webAppType&&this.$.connected.setNodeProperty("checked",!0);var a=!this.$.connected.getNodeProperty("checked");util.getClientType()!=constant.webAppType&&(this.$.servername.setDisabled(a),this.$.connected.getNodeProperty("checked")&&null==this.$.servername.getValue()&&this.$.servername.setValue(constant.defaultServer)),this.$.username.setDisabled(a),this.$.warningmessage.setShowing(this.hasChanged())},changed:function(){this.$.warningmessage.setShowing(this.hasChanged())},check:function(){if(this.$.connected.getNodeProperty("checked")){var a=this,b=function(b,c){a.$.serverok.setIcon({directory:"icons",icon:b?"entry-ok.svg":"entry-cancel.svg"}),a.$.userok.setIcon({directory:"icons",icon:c?"entry-ok.svg":"entry-cancel.svg"}),a.$.serverok.setShowing(!0),a.$.userok.setShowing(!0)},c=this.$.username.getValue();myserver.getUser(c,function(a,d){b(!0,d||!c)},function(){b(!1,!1)},"http://"+this.$.servername.getValue())}},restart:function(){var a=this.$.connected.getNodeProperty("checked"),b=this.$.servername.getValue(),c=this.$.username.getValue();(this.initconnected&&!a||""==c)&&preferences.init(),preferences.setConnected(a),preferences.setServer(b),preferences.setNetworkId(""==c?null:c),preferences.save(),util.restartApp()},hasChanged:function(){var a=this.$.connected.getNodeProperty("checked"),b=this.$.servername.getValue(),c=this.$.username.getValue();return this.initconnected!=a||this.initusername!=c||this.initservername!=b}}),enyo.kind({name:"Sugar.DialogSettingsItem",kind:enyo.Control,classes:"settings-item",published:{icon:null,text:null,colorized:!1,disabled:!1},components:[{components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"settings-item-icon",size:constant.sizeSettings,disabledBackground:"#000000"},{name:"text",content:"xxx",classes:"settings-item-text"}]}],create:function(){this.inherited(arguments),this.colorizedChanged(),this.iconChanged(),this.textChanged(),this.disabledChanged()},iconChanged:function(){this.$.icon.setIcon(this.icon)},textChanged:function(){this.$.text.setContent(this.text)},colorizedChanged:function(){this.$.icon.setColorized(this.colorized)},disabledChanged:function(){this.$.icon.setDisabled(this.disabled),this.addRemoveClass("settings-item-text-disable",this.disabled),this.addRemoveClass("settings-item-text-enable",!this.disabled)}}),enyo.kind({name:"Sugar.DialogSettingsWarningBox",kind:enyo.Control,classes:"settings-warningbox",events:{onRestart:"",onCancel:""},components:[{name:"warningtitle",content:"xxx",classes:"warningbox-title"},{name:"warningmessage",content:"xxx",classes:"warningbox-message"},{name:"warningcancel",kind:"Sugar.IconButton",icon:{directory:"icons",icon:"dialog-cancel.svg"},classes:"warningbox-cancel-button",ontap:"cancel"},{name:"warningrestart",kind:"Sugar.IconButton",icon:{directory:"icons",icon:"system-restart.svg"},classes:"warningbox-refresh-button",ontap:"restart"}],create:function(){this.inherited(arguments),this.$.warningtitle.setContent(l10n.get("Warning")),this.$.warningmessage.setContent(l10n.get("ChangesRequireRestart")),this.$.warningcancel.setText(l10n.get("CancelChanges")),this.$.warningrestart.setText(l10n.get("RestartNow")),"rtl"==l10n.language.direction&&(this.$.warningtitle.addClass("rtl-10"),this.$.warningmessage.addClass("rtl-10"))},cancel:function(){this.doCancel()},restart:function(){this.doRestart()}}),enyo.kind({name:"Sugar.DialogChangeLauncher",kind:"enyo.Popup",classes:"module-dialog",centered:!1,modal:!0,floating:!0,autoDismiss:!1,components:[{name:"toolbar",classes:"toolbar",components:[{name:"icon",kind:"Sugar.Icon",x:6,y:6,classes:"module-icon",colorized:!0,size:constant.sizeToolbar,icon:{directory:"icons",icon:"owner-icon.svg"}},{name:"text",content:"xxx",classes:"module-text"},{name:"cancelbutton",kind:"Button",classes:"toolbutton module-cancel-button",ontap:"cancel"},{name:"okbutton",kind:"Button",classes:"toolbutton module-ok-button",ontap:"ok"}]},{name:"warningbox",kind:"Sugar.DialogSettingsWarningBox",showing:!1,onCancel:"cancel",onRestart:"restart"},{name:"content",components:[{classes:"enterkey",components:[{name:"keyInput",kind:"Input",classes:"enterkey-input",oninput:"keychanged"}]},{name:"connectButton",kind:"Button",classes:"toolbutton",ontap:"ok"}]}],create:function(){this.inherited(arguments),this.$.text.setContent(l10n.get("EnterKey")),"rtl"==l10n.language.direction&&this.$.text.addClass("rtl-10")},rendered:function(){this.$.icon.render(),this.$.cancelbutton.setNodeProperty("title",l10n.get("Cancel")),this.$.okbutton.setNodeProperty("title",l10n.get("Ok")),this.$.connectButton.setContent(l10n.get("Ok"))},cancel:function(){this.hide()},ok:function(){sugarizerOS.sharedKeyBuffer=this.$.keyInput.getValue(),this.hide(),this.$.okbutton.setDisabled(!0),this.$.cancelbutton.setDisabled(!0)},keychanged:function(){},connect:function(){},centerDialog:function(a){var b=util.computeMargin({width:800,height:500},{width:.95,height:.95});a.applyStyle("margin-left",b.left+"px"),a.applyStyle("margin-top",b.top-55+"px")}});