/*! Sugarizer 2019-01-12 */
define(["sugar-web/activity/activity"],function(a){requirejs(["domReady!"],function(b){function c(){console.log("writing...");var b=JSON.stringify(f);a.getDatastoreObject().setDataAsText(b),a.getDatastoreObject().save(function(a){null===a?console.log("write done."):console.log("write failed.")})}function d(){a.getDatastoreObject().loadAsText(function(a,b,c){null==a&&null!=c&&(f=JSON.parse(c),console.log(f))})}function e(a){var b=Object.keys(BlockrainThemes),c=g.blockrain("theme"),d=b.indexOf(c);a?d++:d--,d>=b.length&&(d=0),d<0&&(d=b.length-1),g.blockrain("theme",b[d])}a.setup();var f=0;d();var g=$("#canvas").blockrain({speed:20,theme:"candy",autoplay:!1,autoplayRestart:!0,autoBlockWidth:!0,autoBlockSize:24,touchControls:!0,highestScore:f,onStart:function(){},onRestart:function(){d()},onGameOver:function(a){c()},onLine:function(a,b,c){c>f&&(f=c)}});document.getElementById("stop-button").addEventListener("click",function(a){c()}),document.getElementById("btn-next").onclick=function(){e(!0)}})});