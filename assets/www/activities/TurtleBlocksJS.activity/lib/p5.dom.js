/*! Sugarizer 2016-12-28 */
var p5DOM=function(){function a(a,b,c){var d=b._userNode?b._userNode:document.body;d.appendChild(a);var e=c?new p5.MediaElement(a):new p5.Element(a);return b._elements.push(e),e}function b(b,c,d,e){var f=document.createElement(c);"string"==typeof d&&(d=[d]);for(var g=0;g<d.length;g++){var h=document.createElement("source");h.src=d[g],f.appendChild(h)}"undefined"!=typeof e&&f.addEventListener("canplaythrough",function(){e()});var i=a(f,b,!0);return i.loadedmetadata=!1,f.addEventListener("loadedmetadata",function(){i.width=f.videoWidth,i.height=f.videoHeight,i.loadedmetadata=!0}),i}p5.prototype.getElement=function(a){var b=document.getElementById(a);return b?new p5.Element(b):null},p5.prototype.getElements=function(a){var b=[],c=document.getElementsByClassName(a);if(c)for(var d=0;d<c.length;d++){var e=new p5.Element(c[d]);b.push(e)}return b},p5.prototype.removeElements=function(a){for(var b=0;b<this._elements.length;b++)this._elements[b].elt instanceof HTMLCanvasElement||this._elements[b].remove()};var c=["div","p","span"];c.forEach(function(b){var c="create"+b.charAt(0).toUpperCase()+b.slice(1);p5.prototype[c]=function(c){var d=document.createElement(b);return d.innerHTML=c,a(d,this)}}),p5.prototype.createImg=function(b,c){var d=document.createElement("img");return d.src=b,"undefined"!=typeof c&&(d.alt=c),a(d,this)},p5.prototype.createA=function(b,c,d){var e=document.createElement("a");return e.href=b,e.innerHTML=c,d&&(e.target=d),a(e,this)},p5.prototype.createSlider=function(b,c,d){var e=document.createElement("input");return e.type="range",e.min=b,e.max=c,d&&(e.value=d),a(e,this)},p5.prototype.createButton=function(b,c){var d=document.createElement("button");return d.innerHTML=b,d.value=c,c&&(d.value=c),a(d,this)},p5.prototype.createInput=function(b){var c=document.createElement("input");return c.type="text",b&&(c.value=b),a(c,this)},p5.prototype.createVideo=function(a,c){return b(this,"video",a,c)},p5.prototype.createAudio=function(a,c){return b(this,"audio",a,c)},p5.prototype.VIDEO="video",p5.prototype.AUDIO="audio",navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,p5.prototype.createCapture=function(b){var c,d;if(b?b===p5.prototype.VIDEO?c=!0:b===p5.prototype.AUDIO&&(d=!0):(c=!0,d=!0),!navigator.getUserMedia)throw"getUserMedia not supported in this browser";var e=document.createElement("video");return navigator.getUserMedia({video:c,audio:d},function(a){e.src=window.URL.createObjectURL(a),e.play()},function(a){console.log(a)}),a(e,this)},p5.prototype.createElement=function(b,c){var d=document.createElement(b);return"undefined"!=typeof c&&(d.innerHTML=c),a(d,this)},p5.Element.prototype.addClass=function(a){return this.elt.className?this.elt.className=this.elt.className+" "+a:this.elt.className=a,this},p5.Element.prototype.removeClass=function(a){var b=new RegExp("(?:^|\\s)"+a+"(?!\\S)");return this.elt.className=this.elt.className.replace(b,""),this.elt.className=this.elt.className.replace(/^\s+|\s+$/g,""),this},p5.Element.prototype.child=function(a){return"string"==typeof a&&(a=document.getElementById(a)),this.elt.appendChild(a),this},p5.Element.prototype.html=function(a){return"undefined"!=typeof a?(this.elt.innerHTML=a,this):this.elt.innerHTML},p5.Element.prototype.position=function(a,b){return this.elt.style.position="absolute",this.elt.style.left=a+"px",this.elt.style.top=b+"px",this},p5.Element.prototype.style=function(a,b){if("undefined"==typeof b){for(var c=a.split(";"),d=0;d<c.length;d++){var e=c[d].split(":");e[0]&&e[1]&&(this.elt.style[e[0].trim()]=e[1].trim())}console.log(this.elt.style)}else this.elt.style[a]=b;return this},p5.Element.prototype.attribute=function(a,b){return"undefined"==typeof b?this.elt.getAttribute(a):(this.elt.setAttribute(a,b),this)},p5.Element.prototype.value=function(){return arguments.length>0?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},p5.Element.prototype.show=function(){return this.elt.style.display="block",this},p5.Element.prototype.hide=function(){return this.elt.style.display="none",this},p5.Element.prototype.size=function(a,b){var c=a,d=b,e=p5.prototype.AUTO;if(c!==e||d!==e){if(c===e?c=b*this.elt.width/this.elt.height:d===e&&(d=a*this.elt.height/this.elt.width),this.elt instanceof HTMLCanvasElement){var f={},g=this.elt.getContext("2d");for(var h in g)f[h]=g[h];this.elt.setAttribute("width",c*this._pInst._pixelDensity),this.elt.setAttribute("height",d*this._pInst._pixelDensity),this.elt.setAttribute("style","width:"+c+"px !important; height:"+d+"px !important;"),this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(var h in f)this.elt.getContext("2d")[h]=f[h]}else this.elt.style.width=c+"px",this.elt.style.height=d+"px";this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},p5.Element.prototype.remove=function(){for(var a in this._events)this.elt.removeEventListener(a,this._events[a]);this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt),delete this},p5.MediaElement=function(a,b){p5.Element.call(this,a,b)},p5.MediaElement.prototype=Object.create(p5.Element.prototype),p5.MediaElement.prototype.play=function(){return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),this.elt.play(),this},p5.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},p5.MediaElement.prototype.pause=function(){return this.elt.pause(),this},p5.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},p5.MediaElement.prototype.noLoop=function(){return this.elt.setAttribute("loop",!1),this},p5.MediaElement.prototype.autoplay=function(a){return this.elt.setAttribute("autoplay",a),this},p5.MediaElement.prototype.volume=function(a){return"undefined"==typeof a?this.elt.volume:void(this.elt.volume=a)},p5.MediaElement.prototype.time=function(a){return"undefined"==typeof a?this.elt.currentTime:void(this.elt.currentTime=a)},p5.MediaElement.prototype.duration=function(){return this.elt.duration},p5.MediaElement.prototype.pixels=[],p5.MediaElement.prototype.loadPixels=function(){return this.loadedmetadata&&(this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d")),this.drawingContext.drawImage(this.elt,0,0),p5.prototype.loadPixels.call(this)),this},p5.MediaElement.prototype.updatePixels=function(a,b,c,d){return this.loadedmetadata&&p5.prototype.updatePixels.call(this,a,b,c,d),this},p5.MediaElement.prototype.get=function(a,b,c,d){return this.loadedmetadata?p5.prototype.get.call(this,a,b,c,d):[0,0,0,255]},p5.MediaElement.prototype.set=function(a,b,c){this.loadedmetadata&&p5.prototype.set.call(this,a,b,c)}}();