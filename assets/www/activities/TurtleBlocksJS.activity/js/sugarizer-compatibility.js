/*! Sugarizer 2016-12-28 */
define(["sugar-web/env","sugar-web/activity/activity"],function(a,b){var c={activity:b,data:{allProjects:"[]"},env:a,xoColor:{stroke:"#00A0FF",fill:"#8BFF7A"},saveLocally:function(a){var c=this;b.getDatastoreObject().setDataAsText(JSON.stringify(c.data)),b.getDatastoreObject().save(function(){a&&a()})},isInsideSugarizer:function(){return a.isSugarizer()},loadData:function(a){var c=this;b.getDatastoreObject().loadAsText(function(b,d,e){void 0!==e&&null!==e&&(c.data=JSON.parse(e)),d.buddy_color&&(c.xoColor=d.buddy_color),void 0!==a&&a()})},hideLoading:function(){var a=document.getElementById("loading-image-container");a.style.display="none"},sugarizerStop:function(){document.getElementById("stop-button").click()},setup:function(){this.isInsideSugarizer()!==!1&&(this.hideLoading(),b.setup())}};return window.sugarizerCompatibility=c,c.setup(),c});