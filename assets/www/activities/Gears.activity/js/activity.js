/*! Sugarizer 2018-07-01 */
define(["sugar-web/activity/activity","sugar-web/graphics/radiobuttonsgroup","gearsketch_main"],function(a,b){require(["domReady!"],function(c){function d(a,b,c){null===a?(e.board=window.gearsketch.model.Board.fromObject(JSON.parse(c)),console.log("read done.")):console.log("read failed.")}var e;a.setup();var f=document.getElementById("stop-button");f.addEventListener("click",function(b){console.log("writing...");var c=JSON.stringify(e.board);a.getDatastoreObject().setDataAsText(c),a.getDatastoreObject().save(function(a){null===a?console.log("write done."):console.log("write failed.")})}),e=new window.gearsketch.GearSketch(!1);var g=a.getDatastoreObject();g.loadAsText(d);var h,i=document.getElementById("gear-button"),j=document.getElementById("chain-button"),k=document.getElementById("momentum-button"),l=document.getElementById("play-button");e.selectButton=function(a){return this.selectedButton=a},i.addEventListener("click",function(a){e.isDemoPlaying&&e.stopDemo(),e.selectButton("gearButton")}),j.addEventListener("click",function(a){e.isDemoPlaying&&e.stopDemo(),e.selectButton("chainButton")}),k.addEventListener("click",function(a){e.isDemoPlaying&&e.stopDemo(),e.selectButton("momentumButton")}),l.addEventListener("click",function(a){e.isDemoPlaying&&e.stopDemo(),"playButton"==e.selectedButton?e.selectButton(null):e.selectButton("playButton")}),h=new b.RadioButtonsGroup([i,j,k,l]);var m=document.getElementById("clear-button");m.addEventListener("click",function(a){return e.isDemoPlaying?(e.showButtons=!1,void e.stopDemo()):void e.board.clear()});var n=document.getElementById("help-button");n.addEventListener("click",function(a){return e.isDemoPlaying?void e.stopDemo():void e.playDemo()})})});