/*! Sugarizer 2019-09-21 */
define(["sugar-web/activity/activity","activity/SpeakActivity","facepalette","speechpalette","languagepalette","activity/sax","activity/dom-js","activity/AIMLInterpreter","activity/Speech"],function(a,b,c,d,e){requirejs(["domReady!"],function(b){function f(){for(var a=0;a<speakArray.length;a++){var b=document.createElement("OPTION");b.setAttribute("value",speakArray[a]),b.text=speakArray[a],document.getElementById("combo-box").appendChild(b)}}function g(a){a.sort();for(var b=a.length-1;b--;)a[b]===a[b+1]&&a.splice(b,1)}a.setup();var h=a.getDatastoreObject(),i=document.getElementById("face-button"),j=(new c.ActivityPalette(i,h),document.getElementById("speech-button")),k=(new d.ActivityPalette(j,h),document.getElementById("language-button"));new e.ActivityPalette(k,h);a.getDatastoreObject().loadAsText(function(a,b,c){null==a&&null!=c&&(speakArray=JSON.parse(c),g(speakArray),f())}),document.getElementById("stop-button").addEventListener("click",function(b){console.log("writing...");var c=JSON.stringify(speakArray);console.log(c),a.getDatastoreObject().setDataAsText(c),a.getDatastoreObject().save(function(a){null===a?console.log("write done."):console.log("write failed.")})})})});