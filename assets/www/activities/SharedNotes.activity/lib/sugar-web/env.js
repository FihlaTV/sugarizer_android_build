/*! Sugarizer 2017-09-04 */
define(function(){"use strict";var a={};return a.getEnvironment=function(b){if(a.isSugarizer()){var c=function(a){var b=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g," "))};window.top.sugar={},window.top.sugar.environment={activityId:c("aid"),activityName:c("n"),bundleId:c("a"),objectId:c("o"),sharedId:c("s"),help:c("h")},setTimeout(function(){b(null,window.top.sugar.environment)},0)}else if(a.isStandalone())setTimeout(function(){b(null,{})},0);else{var d=function(){b(null,window.top.sugar.environment)};window.top.sugar?setTimeout(function(){d()},0):(window.top.sugar={},window.top.sugar.onEnvironmentSet=function(){d()})}},a.getObjectId=function(b){a.getEnvironment(function(a,c){b(c.objectId)})},a.getURLScheme=function(){return window.location.protocol},a.getHost=function(){return window.location.hostname},a.isStandalone=function(){var b="0.0.0.0",c=a.getHost();return c!==b},a.isSugarizer=function(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!0;if("undefined"!=typeof Storage&&"undefined"!=typeof window.localStorage)try{return null!==window.localStorage.getItem("sugar_settings")}catch(a){return!1}return!1},a});