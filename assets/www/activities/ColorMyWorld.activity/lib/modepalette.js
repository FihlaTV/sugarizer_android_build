/*! Sugarizer 2019-09-21 */
define(["sugar-web/graphics/palette","util","colormyworld","print"],function(a,b,c,d){"use strict";var e={};e.ModePalette=function(b,f,g){a.Palette.call(this,b,f),this.modeEvent=document.createEvent("CustomEvent"),this.modeEvent.initCustomEvent("mode",!0,!0,{}),this.remoteEvent=document.createEvent("CustomEvent"),this.remoteEvent.initCustomEvent("remote",!0,!0,{});e.setMode=function(a){a<0?a=MODE_NAMES.length-1:a>MODE_NAMES.length-1&&(a=0),c.setMode(a),document.getElementById("modelabel").innerHTML=document.webL10n.get(MODE_NAMES[a])};var h=document.createElement("div"),i=document.createElement("button");i.className="toolbutton palette-button palette-button-selected",i.setAttribute("id","mode-button-prev"),i.setAttribute("title","Previous Mode"),i.onclick=function(){e.setMode(c.getMode()+1)};var j=document.createElement("button");j.className="toolbutton palette-button palette-button-selected",j.setAttribute("id","mode-button-next"),j.setAttribute("title","Next Mode"),j.onclick=function(){e.setMode(c.getMode()-1)};var k=document.createElement("div");k.className="modelabel",k.id="modelabel",k.innerHTML=document.webL10n.get(MODE_NAMES[0]);var l=document.createElement("table"),m=l.insertRow(-1);m.insertCell(-1).appendChild(i),m.insertCell(-1).appendChild(k),m.insertCell(-1).appendChild(j),e.setRegion=function(a){a<0?a=REGION_NAMES.length-1:a>REGION_NAMES.length-1&&(a=0),c.change_areaCB(1,REGION_NAMES[a]),document.getElementById("regionlabel").src=REGION_ICONS[a]};var n=document.createElement("button");n.className="toolbutton palette-button palette-button-selected",n.setAttribute("id","region-button-prev"),n.setAttribute("title","Previous Region"),n.onclick=function(){e.setRegion(c.getRegion()+1)};var o=document.createElement("button");o.className="toolbutton palette-button palette-button-selected",o.setAttribute("id","region-button-next"),o.setAttribute("title","Next Region"),o.onclick=function(){e.setRegion(c.getRegion()-1)};var p=new Image;p.className="regionlabel",p.id="regionlabel",p.title=REGION_NAMES[0],p.src=REGION_ICONS[0];var q=document.createElement("table"),m=q.insertRow(-1);m.insertCell(-1).appendChild(n),m.insertCell(-1).appendChild(p),m.insertCell(-1).appendChild(o),e.setLanguage=function(a){var b=document.webL10n.getLanguage();d(b);var c=LANGUAGE_NAMES.keys.indexOf(b)+a;d(c),c<0?c=LANGUAGE_NAMES.keys.length-1:c>LANGUAGE_NAMES.keys.length-1&&(c=0),document.webL10n.setLanguage(LANGUAGE_NAMES.keys[c]),document.getElementById("languagelabel").innerHTML=LANGUAGE_NAMES[LANGUAGE_NAMES.keys[c]],window.setTimeout(window.onresize,500)};var r=document.createElement("button");r.className="toolbutton palette-button palette-button-selected",r.setAttribute("id","language-button-prev"),r.setAttribute("title","Previous Language"),r.onclick=function(){e.setLanguage(-1)};var s=document.createElement("button");s.className="toolbutton palette-button palette-button-selected",s.setAttribute("id","language-button-next"),s.setAttribute("title","Next Language"),s.onclick=function(){e.setLanguage(1)};var t=document.createElement("div");t.className="languagelabel",t.id="languagelabel",t.title=LANGUAGE_NAMES[0];var u=LANGUAGE_NAMES.keys.indexOf(document.webL10n.getLanguage());t.innerHTML=-1!=u?LANGUAGE_NAMES[LANGUAGE_NAMES.keys[u]]:"English";var v=document.createElement("table"),m=v.insertRow(-1);m.insertCell(-1).appendChild(r),m.insertCell(-1).appendChild(t),m.insertCell(-1).appendChild(s),h.appendChild(l),h.appendChild(q),h.appendChild(v),this.setContent([h])};var f=function(a,b,c){return this.getPalette().addEventListener(a,b,c)};return e.ModePalette.prototype=Object.create(a.Palette.prototype,{addEventListener:{value:f,enumerable:!0,configurable:!0,writable:!0}}),e});